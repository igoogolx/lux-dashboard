"use strict";(self.webpackChunklux_dashboard=self.webpackChunklux_dashboard||[]).push([[867],{4867:(e,t,a)=>{a.r(t),a.d(t,{default:()=>b});var l=a(7294),n=a(6667),r=a(5998),c=a(3439),s=a(6974),m=a(8142),E=a(2327);const o="LL6ZdOrOCKOvqt48ApmC",u="qSoUdGdoenhEPLkcS997",d="ZFupGIwFl1fv76JCDDxg",i=e=>({...e,localServerHttpEnabled:e.localServer.http.enabled,localServerHttpPort:e.localServer.http.port.toString()});function S(e){const{initValue:t}=e,{t:a}=(0,E.$)(),S=(0,r.I0)(),b=(0,r.v9)((e=>e.manager.isStared||e.manager.isLoading)),T=(0,l.useRef)([{content:"url-test",id:"url-test"},{content:"fallback",id:"fallback"}]),_=(0,l.useRef)(null);return l.createElement("div",{className:"iTAfe2SpwPMwUh2vpJqC"},l.createElement(s.l0,{onSubmit:async e=>{const t=(e=>({...e,trueProxyServer:e.trueProxyServer,localServer:{http:{enabled:e.localServerHttpEnabled,port:Number(e.localServerHttpPort)}}}))(e);await(0,n.Lt)(t),S(c.z.actions.setSetting(e)),_.current?.resetForm({values:e}),s.rB.success(a(m.$.SAVE_SUCCESS))},initialValues:i(t),innerRef:_},(({dirty:e,submitCount:n,isValid:r,setValues:c,submitForm:E,values:S})=>l.createElement(l.Fragment,null,l.createElement("div",{className:"w85JHPr2FKEjjjcGpTNM"},l.createElement(s.gN,{name:"defaultInterface",label:l.createElement("div",{className:u},l.createElement("span",{className:d},a(m.$.DEFAULT_INTERFACE)),l.createElement(s.u,{content:a(m.$.DEFAULT_INTERFACE_TOOLTIP),placement:s.Um.Bottom},l.createElement(s.JO,{name:s.dT.Question}))),className:o,disabled:b}),l.createElement(s.gN,{name:"trueProxyServer",label:l.createElement("div",{className:u},l.createElement("span",{className:d},a(m.$.TRUE_PROXY_SERVER)),l.createElement(s.u,{content:a(m.$.TRUE_PROXY_SERVER_TOOLTIPS)},l.createElement(s.JO,{name:s.dT.Question}))),className:o,disabled:b}),l.createElement(s.QB,{name:"localServerHttpEnabled",label:l.createElement("div",{className:u},l.createElement("span",{className:d},a(m.$.HTTP_SERVER_SWITCH_LABEL)),l.createElement(s.u,{content:a(m.$.HTTP_SERVER_SWITCH_TOOLTIP)},l.createElement(s.JO,{name:s.dT.Question}))),className:o,disabled:b}),S.localServerHttpEnabled&&l.createElement(s.gN,{name:"localServerHttpPort",label:`${a(m.$.HTTP_SERVER_PORT_LABEL)}`,className:o,disabled:b}),l.createElement(s.QB,{name:"outbound.mode",customizedValue:e=>"auto"===e,customizedResult:e=>e?"auto":"select",label:l.createElement("div",{className:u},l.createElement("span",{className:d},a(m.$.MODE_SWITCH_LABEL)),l.createElement(s.u,{content:a(m.$.MODE_SWITCH_TOOLTIP)},l.createElement(s.JO,{name:s.dT.Question}))),className:o,disabled:b}),"auto"===S.outbound.mode&&l.createElement(l.Fragment,null,l.createElement(s.VF,{items:T.current,name:"outbound.config.type",label:`${a(m.$.PROXY_MODE_TYPE_LABEL)}`,className:o,disabled:b}),l.createElement(s.gN,{name:"outbound.config.url",label:`${a(m.$.TESTING_URL_LABEL)}`,className:o,disabled:b}))),l.createElement("div",{className:"F5YEObsgXMGFluYGKY07"},l.createElement(s.zx,{disabled:!e,buttonType:s.Bq.Secondary,className:"qtptFzaxonR6wdP1lqZn",onClick:()=>{c(i(t))}},a(m.$.FORM_RESET)),l.createElement(s.zx,{disabled:!e||b||!r&&n>0,onClick:E},a(m.$.FORM_SAVE)))))))}function b(){const e=(0,r.I0)(),[t,a]=(0,l.useState)(!1);(0,l.useEffect)((()=>{a(!0),(0,n.$8)().then((t=>{e(c.z.actions.setSetting(t))})).finally((()=>{a(!1)}))}),[e]);const s=(0,r.v9)((e=>e.setting));return l.createElement("div",{className:"uWBL3VP9ZIt5OvmOheJq"},!t&&l.createElement(S,{initValue:s}))}}}]);