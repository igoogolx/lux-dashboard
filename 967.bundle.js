"use strict";(self.webpackChunklux_dashboard=self.webpackChunklux_dashboard||[]).push([[967],{967:(e,t,a)=>{a.r(t),a.d(t,{default:()=>V});var n=a(7294),l=a(6575),c=a(5998),r=a(3439);const s={wrapper:"uWBL3VP9ZIt5OvmOheJq",card:"O5DPrTElYSU6i1MihbK3",cardItem:"cGlrYUbTojkXVctQYMDA",desc:"ZFupGIwFl1fv76JCDDxg",dialogBody:"K3SMsU8g5AKDlfOX0XWP"};var u=a(8142),d=a(1548),m=a(1092),o=a(1317),E=a(2327),i=a(2580),S=a(634),p=a(3012),v=a(5444),T=a(1588),b=a(403),_=a(4510),g=a(8940),f=a(377),I=a(1416),O=a(4485),h=a(3257),N=a(3736),L=a(2132);function $(e){const{title:t,label:a,open:l,setOpen:c,value:r,onSubmit:d,inputType:m,disabled:o=!1,selectorItems:i,type:S="input"}=e,{t:$}=(0,E.$)(),[y,C]=(0,n.useState)(r);return(0,n.useEffect)((()=>{C(r)}),[r]),n.createElement(p.V,{modalType:"modal",open:l,onOpenChange:(e,t)=>{c(t.open)}},n.createElement(v.h,{disableButtonEnhancement:!0},n.createElement(T.I,{type:m,size:"medium",className:s.input,value:r,disabled:o})),n.createElement(b.c,{"aria-describedby":void 0},n.createElement(_.a,null,n.createElement(g.$,null,t),n.createElement(f.c,{className:s.dialogBody},n.createElement(I._,{required:!0},a),"input"===S?n.createElement(T.I,{type:m,required:!0,value:y,onChange:e=>{C(e.target.value)}}):i&&n.createElement(O.L,{value:y,onOptionSelect:(e,t)=>{C(t.optionValue)}},i.map((e=>n.createElement(h.W,{key:e.content},e.content))))),n.createElement(N.k,null,n.createElement(v.h,{disableButtonEnhancement:!0},n.createElement(L.z,{appearance:"secondary"},$(u.$.CLOSE))),n.createElement(L.z,{appearance:"primary",onClick:()=>{d(y)}},$(u.$.FORM_SAVE))))))}function y(){const{t:e}=(0,E.$)(),t=(0,c.I0)(),[a,r]=(0,n.useState)(!1),p=(0,c.v9)((e=>e.manager.isStared||e.manager.isLoading)),v=(0,c.v9)((e=>e.setting)),[T,b]=(0,n.useState)([]);return(0,n.useEffect)((()=>{!async function(){const{os:e}=await(0,l.Z$)();(0,l.l_)().then((t=>{const a=[{Name:"Auto"},...t.filter((t=>"darwin"!==e||t.Name.startsWith("en")))].map((e=>({id:e.Name,content:e.Name})));b(a)}))}()}),[]),n.createElement(d.Z,{className:s.card},n.createElement("div",{className:s.cardItem},n.createElement("div",{className:s.desc},n.createElement(m.T,null,e(u.$.DEFAULT_INTERFACE)),n.createElement(o.d,null,e(u.$.DEFAULT_INTERFACE_TOOLTIP))),n.createElement($,{title:"Edit the default interface name",open:a,setOpen:r,onSubmit:a=>{(async a=>{const n={...v,defaultInterface:a};await(0,l.Lt)(n),t(i.zj.actions.setSetting(n)),r(!1),S.rB.success(e(u.$.SAVE_SUCCESS))})(a)},label:"Default interface name",value:v.defaultInterface,disabled:p,type:"selector",selectorItems:T})))}function C(){const{t:e}=(0,E.$)(),t=(0,c.I0)(),[a,r]=(0,n.useState)(!1),p=(0,c.v9)((e=>e.setting)),v=(0,c.v9)((e=>e.manager.isStared||e.manager.isLoading));return n.createElement(d.Z,{className:s.card},n.createElement("div",{className:s.cardItem},n.createElement("div",{className:s.desc},n.createElement(m.T,null,e(u.$.TRUE_PROXY_SERVER)),n.createElement(o.d,null,e(u.$.TRUE_PROXY_SERVER_TOOLTIPS))),n.createElement($,{title:"Edit the true proxy server",open:a,setOpen:r,onSubmit:a=>{(async a=>{const n={...p,trueProxyServer:a};await(0,l.Lt)(n),t(i.zj.actions.setSetting(n)),r(!1),S.rB.success(e(u.$.SAVE_SUCCESS))})(a)},label:"True proxy server",value:p.trueProxyServer,disabled:v})))}var R=a(3738);function P(){const{t:e}=(0,E.$)(),t=(0,c.v9)((e=>e.manager.isStared||e.manager.isLoading)),a=(0,n.useRef)([{content:"url-test",id:"url-test"},{content:"fallback",id:"fallback"}]),r=(0,c.v9)((e=>e.setting)),[p,v]=(0,n.useState)(!1),T=(0,c.I0)(),b=async t=>{const a={...r,outbound:{...r.outbound,autoMode:t}};await(0,l.Lt)(a),T(i.zj.actions.setSetting(a)),v(!1),S.rB.success(e(u.$.SAVE_SUCCESS))};return n.createElement(d.Z,{className:s.card},n.createElement("div",{className:s.cardItem},n.createElement("div",{className:s.desc},n.createElement(m.T,null,e(u.$.MODE_SWITCH_LABEL)),n.createElement(o.d,null,e(u.$.MODE_SWITCH_TOOLTIP))),n.createElement(R.r,{disabled:t,checked:r.outbound.autoMode.enabled,onChange:(e,t)=>{b({...r.outbound.autoMode,enabled:t.checked})}})),r.outbound.autoMode.enabled&&n.createElement(n.Fragment,null,n.createElement("div",{className:s.cardItem},n.createElement("div",{className:s.desc},n.createElement(m.T,null,e(u.$.PROXY_MODE_TYPE_LABEL)),n.createElement(o.d,null,e(u.$.PROXY_MODE_TYPE_DESC))),n.createElement(O.L,{disabled:t,value:r.outbound.autoMode.type,onOptionSelect:(e,t)=>{b({...r.outbound.autoMode,type:t.optionValue})}},a.current.map((e=>n.createElement(h.W,{key:e.id},e.content))))),n.createElement("div",{className:s.cardItem},n.createElement("div",{className:s.desc},n.createElement(m.T,null,e(u.$.TESTING_URL_LABEL)),n.createElement(o.d,null,e(u.$.TESTING_URL_DESC))),n.createElement($,{disabled:t,title:"Edit testing url",open:p,setOpen:v,onSubmit:e=>{b({...r.outbound.autoMode,url:e})},label:"Testing url",value:r.outbound.autoMode.url}))))}function A(){const{t:e}=(0,E.$)(),t=(0,c.v9)((e=>e.setting)),a=(0,c.I0)(),[r,p]=(0,n.useState)(!1),v=(0,c.v9)((e=>e.manager.isStared||e.manager.isLoading)),T=async n=>{const c={...t,localServer:{http:{...t.localServer.http,...n}}};await(0,l.Lt)(c),a(i.zj.actions.setSetting(c)),p(!1),S.rB.success(e(u.$.SAVE_SUCCESS))};return n.createElement(d.Z,{className:s.card},n.createElement("div",{className:s.cardItem},n.createElement("div",{className:s.desc},n.createElement(m.T,null,e(u.$.HTTP_SERVER_SWITCH_LABEL)),n.createElement(o.d,null,e(u.$.HTTP_SERVER_SWITCH_TOOLTIP))),n.createElement(R.r,{checked:t.localServer.http.enabled,onChange:(e,t)=>{T({enabled:t.checked})},disabled:v})),t.localServer.http.enabled&&n.createElement("div",{className:s.cardItem},n.createElement("div",{className:s.desc},n.createElement(m.T,null,e(u.$.HTTP_SERVER_PORT_LABEL)),n.createElement(o.d,null,e(u.$.HTTP_SERVER_PORT_DESC))),n.createElement($,{title:"Edit the local http server port",inputType:"number",open:r,setOpen:p,onSubmit:e=>{T({port:+e})},label:"Http server port",value:t.localServer.http.port.toString(),disabled:v})))}function M(){return n.createElement("div",{className:s.form},n.createElement(n.Fragment,null,n.createElement("div",{className:s.fields},n.createElement(y,null),n.createElement(C,null),n.createElement(A,null),n.createElement(P,null))))}function V(){const e=(0,c.I0)(),[t,a]=(0,n.useState)(!1);return(0,n.useEffect)((()=>{a(!0),(0,l.$8)().then((t=>{e(r.z.actions.setSetting(t))})).finally((()=>{a(!1)}))}),[e]),n.createElement("div",{className:s.wrapper},!t&&n.createElement(M,null))}}}]);