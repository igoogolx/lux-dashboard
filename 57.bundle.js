"use strict";(self.webpackChunklux_dashboard=self.webpackChunklux_dashboard||[]).push([[57],{3057:(e,a,t)=>{t.r(a),t.d(a,{default:()=>x});var n=t(7294),l=t(3422),r=t(5998),c=t(2580),s=t(5365),d=t(8142),o=t(2327);const i="NSyaBYUD5bzay1aiaT9D",u="szybJ_P1Imf4zzFW_EcT",m="DaERQxV_ml7zGPWcEnql",p="GZtRFFskT7ZPwg3N_3QD";var E=t(5638);var v;function f(e){const{value:a,type:t=v.Speed}=e,{value:l,unit:r}=(0,E.E6)(a);return n.createElement("span",{className:"b6vuenGaaxzOmEvavgSV"},n.createElement("span",{className:"OXCyWZ5cHTaQ0wgfFm5w"},l),n.createElement("span",{className:"NqFLFGGFymp60iZcjIhs"},t===v.Speed?`${r}/S`:r))}!function(e){e[e.Speed=0]="Speed",e[e.Total=1]="Total"}(v||(v={}));var y,N=t(5071),T=t(2631);function O(e){const{data:a}=e,[t,l]=(0,N.jf)({type:"line",data:{labels:[],datasets:[{label:T.ZP.t(d.$.DOWNLOAD),borderColor:"#22ce70",borderWidth:1.5,fill:!1,pointRadius:0,data:[],tension:.2},{label:T.ZP.t(d.$.UPLOAD),borderColor:"#ff6573",borderWidth:1,fill:!1,pointRadius:0,data:[],tension:.2}]},options:{animation:{},maintainAspectRatio:!1,scales:{x:{grid:{display:!1},ticks:{display:!1}},y:{border:{width:0,dash:[5,5]},grid:{color:"#50585b"},ticks:{callback:e=>{const{value:a,unit:t}=(0,E.E6)(e);return a+t},autoSkip:!0,maxTicksLimit:6}}}}});return(0,n.useEffect)((()=>{l&&(l.data.labels=a.map(((e,a)=>a)),l.data.datasets&&(l.data.datasets[0].data=a.map((e=>e.download)),l.data.datasets[1].data=a.map((e=>e.upload))),l.update("none"))}),[l,a]),n.createElement("canvas",{ref:t})}!function(e){e[e.Proxy=0]="Proxy",e[e.Direct=1]="Direct"}(y||(y={}));const b={[y.Proxy]:d.$.PROXY,[y.Direct]:d.$.DIRECT};function w(e){const{speed:a,total:t,type:l}=e,r=a.length?a[a.length-1]:{upload:0,download:0},{t:c}=(0,o.$)();return n.createElement("div",{className:"vUzxazUJaZ0NoJJFsZrT"},n.createElement("div",{className:"vLXt0gK3jA52ZHpvTMRA"},n.createElement("div",{className:"ScVqdqtw3kfi3wgKUU_l"},n.createElement("div",{className:"uYFAR2HBjO3w0wjfZ_gN"},n.createElement(s.u,{content:c(b[l])},n.createElement(s.JO,{name:l===y.Proxy?s.dT.Plane:s.dT.ToTop,size:s.ZK.Large})))),n.createElement("div",{className:"AVDlBdfH0AuctG9EeMkg"},n.createElement("div",{className:i},n.createElement("div",{className:u},"Speed",n.createElement(s.JO,{name:s.dT.Flash})),n.createElement("div",{className:m},n.createElement("div",{className:p},n.createElement(s.JO,{name:s.dT.ArrowUp}),n.createElement(f,{value:r.upload})),n.createElement("div",{className:p},n.createElement(s.JO,{name:s.dT.ArrowDown}),n.createElement(f,{value:r.download})))),n.createElement("div",{className:i},n.createElement("div",{className:u},"Total",n.createElement(s.JO,{name:s.dT.Database})),n.createElement("div",{className:m},n.createElement("div",{className:p},n.createElement(s.JO,{name:s.dT.ArrowUp}),n.createElement(f,{value:t.upload,type:v.Total})),n.createElement("div",{className:p},n.createElement(s.JO,{name:s.dT.ArrowDown}),n.createElement(f,{value:t.download,type:v.Total})))))),n.createElement("div",{className:"TuyIIX4tuzH0cjrCiuur"},n.createElement(O,{data:a})))}var D=t(1560);function x(){const e=(0,r.v9)((e=>{const a={proxy:[],direct:[]};return e.traffics.now.forEach((e=>{a.proxy.push(e.proxy),a.direct.push(e.direct)})),a})),a=(0,r.v9)((e=>e.traffics.total)),t=(0,r.I0)();return(0,n.useEffect)((()=>{const e=(0,l.fN)({onMessage:e=>{t(c.KZ.actions.addNow({traffic:e}))},onError:()=>{e.close()}}),a=(0,l.C6)({onMessage:e=>{t(c.KZ.actions.setTotal({traffic:e}))},onError:()=>{a.close()}});return()=>{e.close()}}),[t]),e&&a?n.createElement("div",{className:"ENZk5U2FYqz1THAdUJT7"},n.createElement(w,{speed:e.proxy,total:a.proxy,type:y.Proxy}),n.createElement(w,{speed:e.direct,total:a.direct,type:y.Direct})):n.createElement(n.Fragment,null)}D.kL.register(D.ST,D.jn,D.od,D.f$,D.Dx,D.uw)},5071:(e,a,t)=>{t.d(a,{dj:()=>E,jb:()=>p,jf:()=>m});var n=t(7294),l=t(1560),r=t(4021),c=t(5998),s=t(3422),d=t(842),o=t(5365),i=t(8142),u=t(2327);const m=e=>{const a=(0,n.useRef)(null),t=(0,n.useRef)();return(0,n.useEffect)((()=>{if(a.current&&!t.current){const n=a.current;n&&(t.current=new l.kL(n,e))}}),[e]),[a,t.current]},p=()=>{const e=(0,c.I0)();return(0,n.useCallback)((async a=>{e(r.D.actions.updateOne({delay:{id:a,loading:!0}}));try{const t=await(0,s.NP)({id:a});e(r.D.actions.updateOne({delay:{id:a,value:t.delay}}))}catch(t){e(r.D.actions.updateOne({delay:{id:a,value:-1}}))}finally{e(r.D.actions.updateOne({delay:{id:a,loading:!1}}))}}),[e])},E=()=>{const e=(0,c.I0)(),{t:a}=(0,u.$)();return(0,n.useCallback)((async t=>{e(d.b.actions.updateOne({data:{id:t,loading:!0}}));try{const n=await(0,s.Z9)({id:t});e(d.b.actions.updateOne({data:{id:t,result:n.result}})),n.result?o.rB.success(a(i.$.UDP_OK_NOTIFICATION)):o.rB.error(a(i.$.UDP_FAILED_NOTIFICATION))}catch(a){e(d.b.actions.updateOne({data:{id:t,result:!1}}))}finally{e(d.b.actions.updateOne({data:{id:t,loading:!1}}))}}),[e,a])}},5638:(e,a,t)=>{t.d(a,{E6:()=>r});const n=1048576,l=1024*n,r=e=>e<n?(e=>({value:(e/1024).toFixed(0),unit:"K"}))(e):e<l?(e=>({value:(e/n).toFixed(1),unit:"M"}))(e):(e=>({value:(e/l).toFixed(1),unit:"G"}))(e)}}]);